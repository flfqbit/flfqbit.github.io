<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Gridea静态个人博客">
<meta name="description" content="记录区块链行业重点文章，前沿技术">
<meta name="theme-color" content="#f1f3f5">
<title>[45]区块链与人工智能 | 飞来飞去-区块链学习笔记</title>
<link rel="shortcut icon" href="https://flfqbit.github.io/favicon.ico?v=1585191166408">
<link rel="stylesheet" href="https://flfqbit.github.io/styles/main.css">

<link rel="stylesheet" href="/media/css/mist.css">

<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css" rel="stylesheet">  

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

    <meta name="description" content="[45]区块链与人工智能" />
    <meta name="keywords" content="阅读随笔" />
  </head>
  <body>
    <div class="head-top-line"></div>
    <div class="header-box">
      
<div class=" mist">
  <header class="header bg-color ">
    <div class="blog-header box-shadow-wrapper  " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="">
              <span class="logo-line-before">
                <i class=""></i>
              </span>
              <span class="main-title">飞来飞去-区块链学习笔记</span>
              <span class="logo-line-after">
                <i class=""></i>
              </span>
            </a>  
          
        </div>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            <li class="nav-item ">
              
                <a href="/archives">
                  <i class="fa fa-archive"></i> 首页
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="https://flfqbit.github.io/tag/12QaTh0vp/">
                  <i class="fa fa-globe"></i> 阅读随笔
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="https://flfqbit.github.io/tag/tkwMj61kn/">
                  <i class="fa fa-globe"></i> 资料整理
                </a>
              
            </li>
          
            <li class="nav-item ">
              
                <a href="/post/about">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          <li class="nav-item">
            <a>
              <i class="fa fa-search"></i> 搜索
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
    </div>
    <div class="main-continer">
      
      <div class="section-layout mist bg-color">
        <div class="section-layout-wrapper">
          

<div class="sidebar">
    <div class="sidebar-box box-shadow-wrapper  right-motion" id="sidebar">
      
      <div class="sidebar-body mist" id="sidebar_body">
        
          
<div class="sidebar-wrapper box-shadow-wrapper ">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="https://flfqbit.github.io/images/avatar.png"/>
    <p class="site-author-name">飞来飞去-区块链学习笔记</p>
    <p class="site-description right-motion">Talk is cheap. Show me the code</p>
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">100</span>
        <span class="site-item-stat-name">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">4</span>
        <span class="site-item-stat-name">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">4</span>
        <span class="site-item-stat-name">标签</span>
      </a>
    </div>
  </div>
  
  
    <div class="sidebar-item sidebar-item-social">
      <div class="social-item">
        
          
            <a href="https://flfqbit.github.io/">
              <i class="fa fa-globe"></i> github
            </a>
          
        
        
      </div>
    </div>
  


</div>
        
      </div>
    </div>
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });


  if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
    let hasFix = false;
    let scrollEl = document.querySelector('.main-continer');
    let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
    window.addEventListener('scroll', function(e) {
    if (document.scrollingElement.scrollTop >= limitTop) {
      if (!hasFix) {
        sidebar.classList.add('sidebar-fixed');
        hasFix = true;
      }
    } else {
      if (hasFix) {
        sidebar.classList.remove('sidebar-fixed');
        hasFix = false;
      }
    }
  });
  }
  
</script>
          <div class="section-box box-shadow-wrapper">
            <div class="section bg-color post post-page">
              <div class="article-box">
    <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://flfqbit.github.io/post/45qu-kuai-lian-yu-ren-gong-zhi-neng/">
      [45]区块链与人工智能
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span>发布于</span>
      <span>2020-02-22</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
      <span class="meta-item">
        <i class="fa fa-folder-o"></i>
        <span class="pc-show">分类于</span>
        
          
            <a href="https://flfqbit.github.io/tag/12QaTh0vp/">
              <span>阅读随笔</span>
            </a>
          
        
      </span>
      <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>12分钟</span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>3380<span class="pc-show">字数</span></span>
    </span>
  </div>
</header>
</div>
              <div class="post-body next-md-body" id="post_body">
                <p>《区块链技术与人工智能有什么关系吗？》<br>
https://baijiahao.baidu.com/s?id=1591272427577865867&amp;wfr=spider&amp;for=pc</p>
<blockquote>
<p>人工智能（Artificial Intelligence），英文缩写为AI。人工智能是计算机科学的一个分支。它企图了解智能的实质，并生产出一种新的能以人类智能相似的方式做出反应的智能机器，该领域的研究包括机器人、语言识别、图像识别、自然语言处理和专家系统等。</p>
</blockquote>
<blockquote>
<p>区块链技术和人工智能中间的渊源可以概括为：区块链技术可以运用到人工智能中，大大的<strong>提高人工智能的安全性和稳定性</strong>。很多人在人工智能的产物——机器人出现后，在担心机器人是否会拥有自己的思维，从而毁灭人类，就像某电影里的那样，但是区块链技术的发展速度非常快速，可运用的范围越来越广，如果真正将二者结合起来，将是一项更安全、不会威胁人类生存安全的伟大发明。</p>
</blockquote>
<p>感想：<br>
有一本科幻小说。介绍<strong>阿西莫夫三定律</strong>（用于防止机器人攻击人类），需要将三定律以硬件写入的形式嵌入机器人的主板中，防止篡改。现有的信息安全攻击案例显示，硬件也不是绝对安全的。采用区块链分布式共识、链式防篡改技术，能够更加安全的保护<strong>阿西莫夫三定律</strong>等重要的指令。</p>
<blockquote>
<p>人工智能与区块链技术结合最大的意义在于，区块链技术能够为人工智能提供核心技能——贡献区块链技术的“链”功能，<strong>让人工智能的每一步“自主”运行和发展都得到记录和公开，从而促进人工智能功能的健全和安全、稳定性。</strong></p>
</blockquote>
<p>感想：<br>
可追溯的计算，存储AI计算的中间过程，提升决策的可信度。</p>
<p>人工智能遇上区块链，比你想像的还有潜力<br>
https://www.sohu.com/a/219423165_313323</p>
<blockquote>
<p>那么为什么ObEN需要区块链？<br>
ObEN的联合创始人兼COO郑毅给出的第一个答案是信任。比如，在社交中我们都希望每一个人工智能PAI确实能够真实代表ta的主人，这样才能放心交往、搭讪、打赏；如果一位明星想用虚拟形象PAI与粉丝互动，粉丝也希望能确认其背后就是明星官方的人工智能。<br>
他们尝试了其他的认证方式，但均不具备公信力，而只有区块链作为一个去中心化的共识网络，受到广泛的认可。区块链社区可以看作是一个诚信的社区，通过互相的认证，可以确保每个人的PAI都属于自己，代表自己，是自己在数字世界的映射。这正可以满足ObEN对PAI最核心的基本要求。<br>
与此同时，用户信任了自己的PAI，就会放心、主动使用，从而贡献更多的个人数据，数据反哺PAI，人工智能得到进步，进而为用户提供更好的人工智能技术，提供更好的服务，形成了一个融合的人工智能区块链体系。在PAI链上，人工智能与区块链是一个整体。</p>
</blockquote>
<p>感想：<br>
区块链为人工智能产品提供可信的身份和可信的数据，促进用户参与AI交互，用真实数据反哺AI产品。</p>
<blockquote>
<p>分布式人工智能计算<br>
要为每个人实现足够强大的人工智能，还有一个问题是解决人工智能计算效率的问题。<br>
我们知道，人工智能的火热是算法、算力加数据的综合结果，目前的人工智能计算也往往是在云端的服务器上进行。但如果要让每个人都有自己的PAI，显然需要高效的计算能力。好在并不是所有的人工智能计算都需要大量的云端处理能力，有些可以通过分布式算力的贡献来进行计算。<br>
**区块链必须要融合分布式人工智能技术才能成为真正的去中心化的平台。**在PAI链的首次运行上，人工智能运算任务将由ObEN率先提供。PAI链将随后向所有有数据分析需求的开发者开放算力合作，提高机器学习的效率，提高区块链数据的使用价值，让区块链成为真正的去中心化平台。或许ObEN认定的PAI，比想像中还要来得快。</p>
</blockquote>
<p>感想：<br>
利用区块链网络中丰富的算力资源为AI应用提供分布式算力。</p>
<p>区块链与人工智能<br>
http://www.dayqkl.com/48638.html</p>
<blockquote>
<p>区块链，本质上是一种去中心化分布式账本数据库。区块链系统中，各节点通过共识机制彼此信任，不再需要中介机构；数据记录以时间线形式同步储存到各个节点，公开透明且难以篡改。<br>
人工智能是使智能机器和计算机程序能够以通常需要人类智能的方式学习和解决问题的科学和工程，包括自然语言处理和翻译，视觉感知和模式识别、决策等等。<br>
<strong>区块链重心在于保持记录、认证和执行的准确，而人工智能则助力于决策、评估和理解某些模式和数据集，最终产生自主交互。区块链和人工智能，有以下三个主要共同特点和需求：</strong><br>
<strong>1数据共享</strong><br>
各个节点进行高效数据共享，是分布式数据库的一个重要特点。而人工智能需要大数据，尤其依赖数据共享，可供分析的开放数据越多，机器的预测和评估越准确，生成的算法也更可靠。<br>
<strong>2安全</strong><br>
区块链承载大规模和高价值交易时，对网络安全性有极高需求，这可以通过相关协议和技术手段不断提升。人工智能对机器自主性控制上也有很高安全需求，尽可能避免意外事件的发生。<br>
<strong>3信任</strong><br>
区块链上，信任是各节点间进行交易和记录的前提。人工智能为了使机器间通信更加方便，同样需要设定不同层次的信任级别。而不管是区块链、人工智能还是其他新兴技术，信任都是其发展和进步的必要条件。</p>
</blockquote>
<p>感想：<br>
数据共享、安全、信任主要是区块链对人工智能的贡献。</p>
<blockquote>
<p><strong>区块链如何助力人工智能？</strong><br>
<strong>1、区块链有助于人工智能获取更全面的数据。</strong><br>
全数字化世界面临的一个根本挑战是：盲人摸象，没有机构可以拿全所有数据。即便是像阿里、腾讯、谷歌、亚马逊这样的互联网巨头，所能获取也只是基于自身业务的有限数据。<br>
不可否认，巨头企业利用自身有限数据，同样可以维持人工智能运行，但正如上文所说，可供学习、分析的数据越多，人工智能的预测、评估、决策等才能更准确。<br>
区块链技术则能够帮助各机构打破“数据孤岛”格局，促进跨机构间数据的流动、共享及定价，形成一个自由开放的数据市场，让人工智能可以根据不同用途、需求获取更加全面的数据，真正变得“智能”。<br>
<strong>2、区块链可以帮助我们理解人工智能的决策</strong><br>
有时人工智能做出的决定，让人类很难理解。因为它们可以根据掌握的数据评估大量的变量，并且能够自主“学习”，根据变量对实现的总体任务重要性进行决策。而对我们人类而言，很难预见到如此庞大的变量。<br>
如果将人工智能的决策通过区块链记录下来，那我们就可以对人工智能的决策进行有效追溯和理解，及时洞察它们的“思维”，尽可能避免一些违背设计初衷的决策出现，一旦发生意外也能快速定位原因所在并及时修正。<br>
同时，由于区块链记录的不可篡改性，也能方便人们对人工智能设备记录进行查询和监督，提升人们对人工智能的信任和接纳度。</p>
</blockquote>
<p>感想：<br>
第1点的角度是，区块链促进数据共享，为AI提供丰富的数据。<br>
第2点的角度是，利用区块链实现可追溯的计算，提高决策可信度。</p>
<blockquote></blockquote>
<p><strong>人工智能如何驱动区块链？</strong><br>
<strong>1、人工智能帮助区块链降低能耗</strong><br>
众所周知，区块链系统中，挖矿是一项极其困难的任务，需要大量的电力以及金钱才能完成。人工智能则可以摆脱“蛮力”的挖矿方式，以一种更聪明、更高效的方式管理任务。<br>
现在，不少手机已经通过人工智能来优化电力消耗、提升系统性能，如果类似方式在区块链系统中实现，将会大大降低矿工挖矿硬件的成本以及挖矿所需电力的消耗。<br>
<strong>2、人工智能辅助区块链检测欺诈</strong><br>
人工智能通过大量“学习”，很容易发现并防范欺诈行为，这些目前在银行和电商业务中已经得到广泛应用。当非正常刷卡交易发生时，银行会自动发短信提醒安全风险；当网购遇到假冒客服人员时，电商平台会自动提醒注意防骗。<br>
而区块链中欺诈交易行为并不少见，如果能将人工智能深度应用到区块链系统中，对保障区块链安全交易会大有裨益。<br>
感想：<br>
第1点的角度是，利用人工智能解决矿场（区块链）的电费难题，降低能源消耗。<br>
第2点的角度是，利用人工智能解决区块链欺诈问题。<br>
这两点都比较粗糙，牵强。</p>
<blockquote>
<p>人工智能所面临的问题，是传统技术无法解决的，转而向同为新兴技术的区块链求助或许是一个明智的选择。<br>
（区块链促进数据共享）数据中心化的前提下，数据的使用方式也缺乏透明度，当数据提供者无法对自己的数据进行有效管理时，很多人都选择不再进行数据分享。而区块链恰恰可以解决这一问题。在链上，每一份数据的上传者、使用流向和成果都有迹可查用户对数据拥有所有权和自主使用权。数据上传者还会收到使用方提供的数字加密货币作为补偿，当用户能够将自己产生的数据变现，并可控制数据流向，相信会有更多的人愿意提供相关数据。对于AI来说，安全的数据共享意味着更多的数据，然后就会有更好的模型，更好的行动，更好的结果，以及更好的新数据。<br>
（区块链提供分布式算力）面对高昂的算力成本，AI行业可能束手无策，但是区块链最不缺的恐怕就是算力了，挖矿是一项极其困难的任务，需要大量的电力和金钱来铺设算力才能完成。冗余的算力完全可以为AI节省成本。<br>
（AI优化电力消耗）反过来，AI已经被证明是优化电力消耗的有效手段，提供类似的解决方案应用在区块链。这也许会导致挖矿硬件方面的投资下降。 区块链能为人工智能行业带来光明的前景，反过来人工智能也可以为区块链加油助威。德勤在2016年估算区块链验证和共享交易的总运行成本大概是每年6亿美元左右。一个智能系统或许实时计算出某个特定节点成为第一个执行特定任务的节点的可能性，从让其他矿工有可以选择放弃针对该特定交易的努力，从而削减总成本。从而减少无用功的付出，以此提高效率。</p>
</blockquote>
<blockquote>
<p>AI和区块链可以说是技术领域的两个极端方面：一个是在封闭数据平台上培育中心化的智能，另一个则是在开放数据环境下促进去中心化的应用。但两者天然优势互补，在人工智能为区块链提供更强大拓展场景与数据分析能力的同时，区块链技术可为人工智能提供高度可信的原始数据以支持其持续的“深度学习”。</p>
</blockquote>

              </div>
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong>本文作者：</strong>
      飞来飞去-区块链学习笔记
    </li>
    <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://flfqbit.github.io/post/45qu-kuai-lian-yu-ren-gong-zhi-neng/" title="[45]区块链与人工智能">[45]区块链与人工智能</a>
    </li>
    <li class="post-copyright-license">
      <strong>版权声明： </strong>
      本博客所有文章除特别声明外，转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://flfqbit.github.io/tag/12QaTh0vp/"># 阅读随笔</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="[46]区块链与大数据风控" href="https://flfqbit.github.io/post/46qu-kuai-lian-yu-da-shu-ju-feng-kong/">[46]区块链与大数据风控</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="[46]区块链与大数据风控" href="https://flfqbit.github.io/post/46qu-kuai-lian-yu-da-shu-ju-feng-kong/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="[44][文献阅读记录]区块链金融监管之交易特征分析和身份识别" href="https://flfqbit.github.io/post/44wen-xian-yue-du-ji-lu-qu-kuai-lian-jin-rong-jian-guan-zhi-jiao-yi-te-zheng-fen-xi-he-shen-fen-shi-bie/">[44][文献阅读记录]区块链金融监管之交易特征分析和身份识别</a>
        <a class="nav-mobile-next" title="[44][文献阅读记录]区块链金融监管之交易特征分析和身份识别" href="https://flfqbit.github.io/post/44wen-xian-yue-du-ji-lu-qu-kuai-lian-jin-rong-jian-guan-zhi-jiao-yi-te-zheng-fen-xi-he-shen-fen-shi-bie/">下一篇</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
              
                
                  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>
  var gitalk = new Gitalk({
    clientID: '0ac1a4e5b9459ff911f2',
    clientSecret: 'e30abb85f53e52321e943390daa3bac6008f1877',
    repo: 'flfqbit.github.io',
    owner: 'flfqbit',
    admin: ['flfqbit'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>
                
                
              
            </div>
          </div>
        </div>
      </div>
      <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      © 2019-2020 <i class="fa fa-heart"></i> HsxyHao
    </div>
    <div class="poweredby">
      
    </div>
  </footer>
  
  
    <div class="drawer-box right" id="drawer_box">
      <span class="muse-line muse-line-first"></span>
      <span class="muse-line muse-line-middle"></span>
      <span class="muse-line muse-line-last"></span>
    </div>
  
  <div class="mist back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
  back2TopText = document.querySelector('#back_to_top_text'),
  drawerBox = document.querySelector('#drawer_box'),
  rightSideBar = document.querySelector('.sidebar'),
  viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {
   
    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function(e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });
  
  window.addEventListener('scroll', function(e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });

  
  let hasCacu = false;
  window.onresize = function() {
    if (window.width > 991) {
      calcuHeight();
    } else {
      hasCacu = false;
    }
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();
  
  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS 
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function() {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, transitionDir,{ });
          }
        })
        window.Velocity(viewport, openProp,{
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function() {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp ,{
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 代码高亮
  hljs.initHighlightingOnLoad();

</script>
    </div>
  </body>
  <script src="/media/js/motion.js"></script>
</html>